"use strict";(self.webpackChunkapp_website=self.webpackChunkapp_website||[]).push([["9154"],{54199:function(e,t,i){i.d(t,{A:()=>b});var s=i(59629),a=i(36508),n=i(36664),r=i(41805),l=i(6073),o=i(59902),h=i(85828),d=i(36458),m=i(88380),u=i(36795),c=i(48150);function g(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,l.Hl.call(this,this.media,e?"play":"pause"))}let p={setup(){let e=this;(0,r.p1)(e.elements.wrapper,e.config.classNames.embed,!0),e.options.speed=e.config.speed.options,u.md.call(e),h.A.object(window.Vimeo)?p.ready.call(e):(0,d.A)(e.config.urls.vimeo.sdk).then(()=>{p.ready.call(e)}).catch(t=>{e.debug.warn("Vimeo SDK (player.js) failed to load",t)})},ready(){let e,t=this,i=t.config.vimeo,{premium:d,referrerPolicy:p,...b}=i,y=t.media.getAttribute("src"),f="";if(h.A.empty(y))y=t.media.getAttribute(t.config.attributes.embed.id),f=t.media.getAttribute(t.config.attributes.embed.hash);else{let e;f=(e=y.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*h=|\/)+([\d,a-f]+)/))&&5===e.length?e[4]:null}let A=f?{h:f}:{};d&&Object.assign(b,{controls:!1,sidedock:!1});let w=(0,c.U)({loop:t.config.loop.active,autoplay:t.autoplay,muted:t.muted,gesture:"media",playsinline:t.config.playsinline,...A,...b}),v=function(e){if(h.A.empty(e))return null;if(h.A.number(Number(e)))return e;let t=e.match(/^.*(vimeo.com\/|video\/)(\d+).*/);return t?t[2]:e}(y),T=(0,r.n)("iframe"),C=(0,m.GP)(t.config.urls.vimeo.iframe,v,w);if(T.setAttribute("src",C),T.setAttribute("allowfullscreen",""),T.setAttribute("allow","autoplay; fullscreen; picture-in-picture; encrypted-media; accelerometer; gyroscope"),h.A.empty(p)||T.setAttribute("referrerPolicy",p),d||!i.customControls)T.setAttribute("data-poster",t.poster),t.media=(0,r.fx)(T,t.media);else{let e=(0,r.n)("div",{class:t.config.classNames.embedContainer,"data-poster":t.poster});e.appendChild(T),t.media=(0,r.fx)(e,t.media)}i.customControls||(0,o.A)((0,m.GP)(t.config.urls.vimeo.api,C)).then(e=>{!h.A.empty(e)&&e.thumbnail_url&&n.A.setPoster.call(t,e.thumbnail_url).catch(()=>{})}),t.embed=new window.Vimeo.Player(T,{autopause:t.config.autopause,muted:t.muted}),t.media.paused=!0,t.media.currentTime=0,t.supported.ui&&t.embed.disableTextTrack(),t.media.play=()=>(g.call(t,!0),t.embed.play()),t.media.pause=()=>(g.call(t,!1),t.embed.pause()),t.media.stop=()=>{t.pause(),t.currentTime=0};let{currentTime:k}=t.media;Object.defineProperty(t.media,"currentTime",{get:()=>k,set(e){let{embed:i,media:s,paused:a,volume:n}=t,r=a&&!i.hasPlayed;s.seeking=!0,l.Hl.call(t,s,"seeking"),Promise.resolve(r&&i.setVolume(0)).then(()=>i.setCurrentTime(e)).then(()=>r&&i.pause()).then(()=>r&&i.setVolume(n)).catch(()=>{})}});let P=t.config.speed.selected;Object.defineProperty(t.media,"playbackRate",{get:()=>P,set(e){t.embed.setPlaybackRate(e).then(()=>{P=e,l.Hl.call(t,t.media,"ratechange")}).catch(()=>{t.options.speed=[1]})}});let{volume:S}=t.config;Object.defineProperty(t.media,"volume",{get:()=>S,set(e){t.embed.setVolume(e).then(()=>{S=e,l.Hl.call(t,t.media,"volumechange")})}});let{muted:I}=t.config;Object.defineProperty(t.media,"muted",{get:()=>I,set(e){let i=!!h.A.boolean(e)&&e;t.embed.setMuted(!!i||t.config.muted).then(()=>{I=i,l.Hl.call(t,t.media,"volumechange")})}});let{loop:E}=t.config;Object.defineProperty(t.media,"loop",{get:()=>E,set(e){let i=h.A.boolean(e)?e:t.config.loop.active;t.embed.setLoop(i).then(()=>{E=i})}}),t.embed.getVideoUrl().then(i=>{e=i,a.A.setDownloadUrl.call(t)}).catch(e=>{this.debug.warn(e)}),Object.defineProperty(t.media,"currentSrc",{get:()=>e}),Object.defineProperty(t.media,"ended",{get:()=>t.currentTime===t.duration}),Promise.all([t.embed.getVideoWidth(),t.embed.getVideoHeight()]).then(e=>{let[i,s]=e;t.embed.ratio=(0,u.IM)(i,s),u.md.call(this)}),t.embed.setAutopause(t.config.autopause).then(e=>{t.config.autopause=e}),t.embed.getVideoTitle().then(e=>{t.config.title=e,n.A.setTitle.call(this)}),t.embed.getCurrentTime().then(e=>{k=e,l.Hl.call(t,t.media,"timeupdate")}),t.embed.getDuration().then(e=>{t.media.duration=e,l.Hl.call(t,t.media,"durationchange")}),t.embed.getTextTracks().then(e=>{t.media.textTracks=e,s.A.setup.call(t)}),t.embed.on("cuechange",({cues:e=[]})=>{let i=e.map(e=>(0,m._e)(e.text));s.A.updateCues.call(t,i)}),t.embed.on("loaded",()=>{t.embed.getPaused().then(e=>{g.call(t,!e),e||l.Hl.call(t,t.media,"playing")}),h.A.element(t.embed.element)&&t.supported.ui&&t.embed.element.setAttribute("tabindex",-1)}),t.embed.on("bufferstart",()=>{l.Hl.call(t,t.media,"waiting")}),t.embed.on("bufferend",()=>{l.Hl.call(t,t.media,"playing")}),t.embed.on("play",()=>{g.call(t,!0),l.Hl.call(t,t.media,"playing")}),t.embed.on("pause",()=>{g.call(t,!1)}),t.embed.on("timeupdate",e=>{t.media.seeking=!1,k=e.seconds,l.Hl.call(t,t.media,"timeupdate")}),t.embed.on("progress",e=>{t.media.buffered=e.percent,l.Hl.call(t,t.media,"progress"),1===Number.parseInt(e.percent,10)&&l.Hl.call(t,t.media,"canplaythrough"),t.embed.getDuration().then(e=>{e!==t.media.duration&&(t.media.duration=e,l.Hl.call(t,t.media,"durationchange"))})}),t.embed.on("seeked",()=>{t.media.seeking=!1,l.Hl.call(t,t.media,"seeked")}),t.embed.on("ended",()=>{t.media.paused=!0,l.Hl.call(t,t.media,"ended")}),t.embed.on("error",e=>{t.media.error=e,l.Hl.call(t,t.media,"error")}),i.customControls&&setTimeout(()=>n.A.build.call(t),0)}},b=p},7206:function(e,t,i){i.d(t,{A:()=>p});var s=i(36664),a=i(41805),n=i(6073),r=i(59902),l=i(85828),o=i(82308),h=i(36458),d=i(4362),m=i(88380),u=i(36795);function c(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,n.Hl.call(this,this.media,e?"play":"pause"))}let g={setup(){if((0,a.p1)(this.elements.wrapper,this.config.classNames.embed,!0),l.A.object(window.YT)&&l.A.function(window.YT.Player))g.ready.call(this);else{let e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{l.A.function(e)&&e(),g.ready.call(this)},(0,h.A)(this.config.urls.youtube.sdk).catch(e=>{this.debug.warn("YouTube API failed to load",e)})}},getTitle(e){let t=(0,m.GP)(this.config.urls.youtube.api,e);(0,r.A)(t).then(e=>{if(l.A.object(e)){let{title:t,height:i,width:a}=e;this.config.title=t,s.A.setTitle.call(this),this.embed.ratio=(0,u.IM)(a,i)}u.md.call(this)}).catch(()=>{u.md.call(this)})},ready(){let e=this,t=e.config.youtube,i=e.media&&e.media.getAttribute("id");if(!l.A.empty(i)&&i.startsWith("youtube-"))return;let r=e.media.getAttribute("src");l.A.empty(r)&&(r=e.media.getAttribute(this.config.attributes.embed.id));let h=function(e){if(l.A.empty(e))return null;let t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return t&&t[2]?t[2]:e}(r),u=(0,m.$C)(e.provider),p=(0,a.n)("div",{id:u,"data-poster":t.customControls?e.poster:void 0});if(e.media=(0,a.fx)(p,e.media),t.customControls){let t=e=>`https://i.ytimg.com/vi/${h}/${e}default.jpg`;(0,o.A)(t("maxres"),121).catch(()=>(0,o.A)(t("sd"),121)).catch(()=>(0,o.A)(t("hq"))).then(t=>s.A.setPoster.call(e,t.src)).then(t=>{t.includes("maxres")||(e.elements.poster.style.backgroundSize="cover")}).catch(()=>{})}e.embed=new window.YT.Player(e.media,{videoId:h,host:t.noCookie?"https://www.youtube-nocookie.com":"http:"===window.location.protocol?"http://www.youtube.com":void 0,playerVars:(0,d.X$)({},{autoplay:+!!e.config.autoplay,hl:e.config.hl,controls:e.supported.ui&&t.customControls?0:1,disablekb:1,playsinline:e.config.playsinline&&!e.config.fullscreen.iosNative?1:0,cc_load_policy:+!!e.captions.active,cc_lang_pref:e.config.captions.language,widget_referrer:window?window.location.href:null},t),events:{onError(t){if(!e.media.error){let i=t.data;e.media.error={code:i,message:({2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."})[i]||"An unknown error occurred"},n.Hl.call(e,e.media,"error")}},onPlaybackRateChange(t){let i=t.target;e.media.playbackRate=i.getPlaybackRate(),n.Hl.call(e,e.media,"ratechange")},onReady(i){if(l.A.function(e.media.play))return;let a=i.target;g.getTitle.call(e,h),e.media.play=()=>{c.call(e,!0),a.playVideo()},e.media.pause=()=>{c.call(e,!1),a.pauseVideo()},e.media.stop=()=>{a.stopVideo()},e.media.duration=a.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:()=>Number(a.getCurrentTime()),set(t){e.paused&&!e.embed.hasPlayed&&e.embed.mute(),e.media.seeking=!0,n.Hl.call(e,e.media,"seeking"),a.seekTo(t)}}),Object.defineProperty(e.media,"playbackRate",{get:()=>a.getPlaybackRate(),set(e){a.setPlaybackRate(e)}});let{volume:r}=e.config;Object.defineProperty(e.media,"volume",{get:()=>r,set(t){r=t,a.setVolume(100*r),n.Hl.call(e,e.media,"volumechange")}});let{muted:o}=e.config;Object.defineProperty(e.media,"muted",{get:()=>o,set(t){let i=l.A.boolean(t)?t:o;o=i,a[i?"mute":"unMute"](),a.setVolume(100*r),n.Hl.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:()=>a.getVideoUrl()}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration});let d=a.getAvailablePlaybackRates();e.options.speed=d.filter(t=>e.config.speed.options.includes(t)),e.supported.ui&&t.customControls&&e.media.setAttribute("tabindex",-1),n.Hl.call(e,e.media,"timeupdate"),n.Hl.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval(()=>{e.media.buffered=a.getVideoLoadedFraction(),(null===e.media.lastBuffered||e.media.lastBuffered<e.media.buffered)&&n.Hl.call(e,e.media,"progress"),e.media.lastBuffered=e.media.buffered,1===e.media.buffered&&(clearInterval(e.timers.buffering),n.Hl.call(e,e.media,"canplaythrough"))},200),t.customControls&&setTimeout(()=>s.A.build.call(e),50)},onStateChange(i){let s=i.target;switch(clearInterval(e.timers.playing),e.media.seeking&&[1,2].includes(i.data)&&(e.media.seeking=!1,n.Hl.call(e,e.media,"seeked")),i.data){case -1:n.Hl.call(e,e.media,"timeupdate"),e.media.buffered=s.getVideoLoadedFraction(),n.Hl.call(e,e.media,"progress");break;case 0:c.call(e,!1),e.media.loop?(s.stopVideo(),s.playVideo()):n.Hl.call(e,e.media,"ended");break;case 1:t.customControls&&!e.config.autoplay&&e.media.paused&&!e.embed.hasPlayed?e.media.pause():(c.call(e,!0),n.Hl.call(e,e.media,"playing"),e.timers.playing=setInterval(()=>{n.Hl.call(e,e.media,"timeupdate")},50),e.media.duration!==s.getDuration()&&(e.media.duration=s.getDuration(),n.Hl.call(e,e.media,"durationchange")));break;case 2:e.muted||e.embed.unMute(),c.call(e,!1);break;case 3:n.Hl.call(e,e.media,"waiting")}n.Hl.call(e,e.elements.container,"statechange",!1,{code:i.data})}}})}},p=g},3028:function(e,t,i){i.d(t,{A:()=>V});var s=i(59629),a=i(66677),n=i(99413),r=i(16026),l=i(24861),o=i(36508),h=i(54735),d=i(28868),m=i(14977),u=i(54072),c=i(41805),g=i(6073),p=i(85856),b=i(85828),y=i(36458),f=i(47663),A=i(90213),w=i(48150);let v=class{constructor(e){this.player=e,this.config=e.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((e,t)=>{this.on("loaded",e),this.on("error",t)}),this.load()}get enabled(){let{config:e}=this;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!b.A.empty(e.publisherId)||b.A.url(e.tagUrl))}load=()=>{this.enabled&&(b.A.object(window.google)&&b.A.object(window.google.ima)?this.ready():(0,y.A)(this.player.config.urls.googleIMA.sdk).then(()=>{this.ready()}).catch(()=>{this.trigger("error",Error("Google IMA SDK failed to load"))}))};ready=()=>{this.enabled||(this.manager&&this.manager.destroy(),this.elements.displayContainer&&this.elements.displayContainer.destroy(),this.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(()=>{this.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()};get tagUrl(){let{config:e}=this;if(b.A.url(e.tagUrl))return e.tagUrl;let t={AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:e.publisherId};return`https://go.aniview.com/api/adserver6/vast/?${(0,w.U)(t)}`}setupIMA=()=>{this.elements.container=(0,c.n)("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,e=>this.onAdsManagerLoaded(e),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e=>this.onAdError(e),!1),this.requestAds()};requestAds=()=>{let{container:e}=this.player.elements;try{let t=new google.ima.AdsRequest;t.adTagUrl=this.tagUrl,t.linearAdSlotWidth=e.offsetWidth,t.linearAdSlotHeight=e.offsetHeight,t.nonLinearAdSlotWidth=e.offsetWidth,t.nonLinearAdSlotHeight=e.offsetHeight,t.forceNonLinearFullSlot=!1,t.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(t)}catch(e){this.onAdError(e)}};pollCountdown=(e=!1)=>{if(!e){clearInterval(this.countdownTimer),this.elements.container.removeAttribute("data-badge-text");return}let t=()=>{let e=(0,A.fU)(Math.max(this.manager.getRemainingTime(),0)),t=`${p.A.get("advertisement",this.player.config)} - ${e}`;this.elements.container.setAttribute("data-badge-text",t)};this.countdownTimer=setInterval(t,100)};onAdsManagerLoaded=e=>{if(!this.enabled)return;let t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,t.enablePreloading=!0,this.manager=e.getAdsManager(this.player,t),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e=>this.onAdError(e)),Object.keys(google.ima.AdEvent.Type).forEach(e=>{this.manager.addEventListener(google.ima.AdEvent.Type[e],e=>this.onAdEvent(e))}),this.trigger("loaded")};addCuePoints=()=>{b.A.empty(this.cuePoints)||this.cuePoints.forEach(e=>{if(0!==e&&-1!==e&&e<this.player.duration){let t=this.player.elements.progress;if(b.A.element(t)){let i=100/this.player.duration*e,s=(0,c.n)("span",{class:this.player.config.classNames.cues});s.style.left=`${i.toString()}%`,t.appendChild(s)}}})};onAdEvent=e=>{var t;let{container:i}=this.player.elements,s=e.getAd(),a=e.getAdData();switch(t=e.type,g.Hl.call(this.player,this.player.media,`ads${t.replace(/_/g,"").toLowerCase()}`),e.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),s.isLinear()||(s.width=i.offsetWidth,s.height=i.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:a.adError&&this.player.debug.warn(`Non-fatal ad error: ${a.adError.getMessage()}`)}};onAdError=e=>{this.cancel(),this.player.debug.warn("Ads error",e)};listeners=()=>{let e,{container:t}=this.player.elements;this.player.on("canplay",()=>{this.addCuePoints()}),this.player.on("ended",()=>{this.loader.contentComplete()}),this.player.on("timeupdate",()=>{e=this.player.currentTime}),this.player.on("seeked",()=>{let t=this.player.currentTime;b.A.empty(this.cuePoints)||this.cuePoints.forEach((i,s)=>{e<i&&i<t&&(this.manager.discardAdBreak(),this.cuePoints.splice(s,1))})}),window.addEventListener("resize",()=>{this.manager&&this.manager.resize(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL)})};play=()=>{let{container:e}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then(()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(e){this.onAdError(e)}}).catch(()=>{})};resumeContent=()=>{this.elements.container.style.zIndex="",this.playing=!1,(0,f.v)(this.player.media.play())};pauseContent=()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()};cancel=()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()};loadAds=()=>{this.managerPromise.then(()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise(e=>{this.on("loaded",e),this.player.debug.log(this.manager)}),this.initialized=!1,this.requestAds()}).catch(()=>{})};trigger=(e,...t)=>{let i=this.events[e];b.A.array(i)&&i.forEach(e=>{b.A.function(e)&&e.apply(this,t)})};on=(e,t)=>(b.A.array(this.events[e])||(this.events[e]=[]),this.events[e].push(t),this);startSafetyTimer=(e,t)=>{this.player.debug.log(`Safety timer invoked from: ${t}`),this.safetyTimer=setTimeout(()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")},e)};clearSafetyTimer=e=>{b.A.nullOrUndefined(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${e}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)}};var T=i(59902),C=i(51776);function k(e,t){let i=t.width/t.height,s={};return e>i?(s.width=t.width,s.height=1/e*t.width):(s.height=t.height,s.width=e*t.height),s}let P=class{constructor(e){this.player=e,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}load=()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.listeners(),this.loaded=!0)})};getThumbnails=()=>new Promise(e=>{let{src:t}=this.player.config.previewThumbnails;if(b.A.empty(t))throw Error("Missing previewThumbnails.src config attribute");let i=()=>{this.thumbnails.sort((e,t)=>e.height-t.height),this.player.debug.log("Preview thumbnails",this.thumbnails),e()};b.A.function(t)?t(e=>{this.thumbnails=e,i()}):Promise.all((b.A.string(t)?[t]:t).map(e=>this.getThumbnail(e))).then(i)});getThumbnail=e=>new Promise(t=>{(0,T.A)(e,void 0,this.player.config.previewThumbnails.withCredentials).then(i=>{let s,a={frames:(s=[],i.split(/\r\n\r\n|\n\n|\r\r/).forEach(e=>{let t={};e.split(/\r\n|\n|\r/).forEach(e=>{if(b.A.number(t.startTime)){if(!b.A.empty(e.trim())&&b.A.empty(t.text)){let i=e.trim().split("#xywh=");[t.text]=i,i[1]&&([t.x,t.y,t.w,t.h]=i[1].split(","))}}else{let i=e.match(/(\d{2})?:?(\d{2}):(\d{2}).(\d{2,3})( ?--> ?)(\d{2})?:?(\d{2}):(\d{2}).(\d{2,3})/);i&&(t.startTime=60*Number(i[1]||0)*60+60*Number(i[2])+Number(i[3])+Number(`0.${i[4]}`),t.endTime=60*Number(i[6]||0)*60+60*Number(i[7])+Number(i[8])+Number(`0.${i[9]}`))}}),t.text&&s.push(t)}),s),height:null,urlPrefix:""};a.frames[0].text.startsWith("/")||a.frames[0].text.startsWith("http://")||a.frames[0].text.startsWith("https://")||(a.urlPrefix=e.substring(0,e.lastIndexOf("/")+1));let n=new Image;n.onload=()=>{a.height=n.naturalHeight,a.width=n.naturalWidth,this.thumbnails.push(a),t()},n.src=a.urlPrefix+a.frames[0].text})});startMove=e=>{if(this.loaded&&b.A.event(e)&&["touchmove","mousemove"].includes(e.type)&&this.player.media.duration){if("touchmove"===e.type)this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{let t=this.player.elements.progress.getBoundingClientRect(),i=100/t.width*(e.pageX-t.left);this.seekTime=this.player.media.duration*(i/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=e.pageX,this.elements.thumb.time.textContent=(0,A.fU)(this.seekTime);let s=this.player.config.markers?.points?.find(({time:e})=>e===Math.round(this.seekTime));s&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${s.label}<br>`)}this.showImageAtCurrentTime()}};endMove=()=>{this.toggleThumbContainer(!1,!0)};startScrubbing=e=>{(b.A.nullOrUndefined(e.button)||!1===e.button||0===e.button)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))};endScrubbing=()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):g.Oo.call(this.player,this.player.media,"timeupdate",()=>{this.mouseDown||this.toggleScrubbingContainer(!1)})};listeners=()=>{this.player.on("play",()=>{this.toggleThumbContainer(!1,!0)}),this.player.on("seeked",()=>{this.toggleThumbContainer(!1)}),this.player.on("timeupdate",()=>{this.lastTime=this.player.media.currentTime})};render=()=>{this.elements.thumb.container=(0,c.n)("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=(0,c.n)("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);let e=(0,c.n)("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=(0,c.n)("span",{},"00:00"),e.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(e),b.A.element(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=(0,c.n)("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)};destroy=()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()};showImageAtCurrentTime=()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();let e=this.thumbnails[0].frames.findIndex(e=>this.seekTime>=e.startTime&&this.seekTime<=e.endTime),t=e>=0,i=0;this.mouseDown||this.toggleThumbContainer(t),t&&(this.thumbnails.forEach((t,s)=>{this.loadedImages.includes(t.frames[e].text)&&(i=s)}),e!==this.showingThumb&&(this.showingThumb=e,this.loadImage(i)))};loadImage=(e=0)=>{let t=this.showingThumb,i=this.thumbnails[e],{urlPrefix:s}=i,a=i.frames[t],n=i.frames[t].text,r=s+n;if(this.currentImageElement&&this.currentImageElement.dataset.filename===n)this.showImage(this.currentImageElement,a,e,t,n,!1),this.currentImageElement.dataset.index=t,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);let i=new Image;i.src=r,i.dataset.index=t,i.dataset.filename=n,this.showingThumbFilename=n,this.player.debug.log(`Loading image: ${r}`),i.onload=()=>this.showImage(i,a,e,t,n,!0),this.loadingImage=i,this.removeOldImages(i)}};showImage=(e,t,i,s,a,n=!0)=>{this.player.debug.log(`Showing thumb: ${a}. num: ${s}. qual: ${i}. newimg: ${n}`),this.setImageSizeAndOffset(e,t),n&&(this.currentImageContainer.appendChild(e),this.currentImageElement=e,this.loadedImages.includes(a)||this.loadedImages.push(a)),this.preloadNearby(s,!0).then(this.preloadNearby(s,!1)).then(this.getHigherQuality(i,e,t,a))};removeOldImages=e=>{Array.from(this.currentImageContainer.children).forEach(t=>{if("img"!==t.tagName.toLowerCase())return;let i=this.usingSprites?500:1e3;if(t.dataset.index!==e.dataset.index&&!t.dataset.deleting){t.dataset.deleting=!0;let{currentImageContainer:e}=this;setTimeout(()=>{e.removeChild(t),this.player.debug.log(`Removing thumb: ${t.dataset.filename}`)},i)}})};preloadNearby=(e,t=!0)=>new Promise(i=>{setTimeout(()=>{let s=this.thumbnails[0].frames[e].text;if(this.showingThumbFilename===s){let a;a=t?this.thumbnails[0].frames.slice(e):this.thumbnails[0].frames.slice(0,e).reverse();let n=!1;a.forEach(e=>{let t=e.text;if(t!==s&&!this.loadedImages.includes(t)){n=!0,this.player.debug.log(`Preloading thumb filename: ${t}`);let{urlPrefix:e}=this.thumbnails[0],s=e+t,a=new Image;a.src=s,a.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${t}`),this.loadedImages.includes(t)||this.loadedImages.push(t),i()}}}),n||i()}},300)});getHigherQuality=(e,t,i,s)=>{if(e<this.thumbnails.length-1){let a=t.naturalHeight;this.usingSprites&&(a=i.h),a<this.thumbContainerHeight&&setTimeout(()=>{this.showingThumbFilename===s&&(this.player.debug.log(`Showing higher quality thumb for: ${s}`),this.loadImage(e+1))},300)}};get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){let{height:e}=k(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return e}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}toggleThumbContainer=(e=!1,t=!1)=>{let i=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(i,e),!e&&t&&(this.showingThumb=null,this.showingThumbFilename=null)};toggleScrubbingContainer=(e=!1)=>{let t=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(t,e),e||(this.showingThumb=null,this.showingThumbFilename=null)};determineContainerAutoSizing=()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)};setThumbContainerSizeAndPos=()=>{let{imageContainer:e}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(e.clientHeight>20&&e.clientWidth<20){let t=Math.floor(e.clientHeight*this.thumbAspectRatio);e.style.width=`${t}px`}else if(e.clientHeight<20&&e.clientWidth>20){let t=Math.floor(e.clientWidth/this.thumbAspectRatio);e.style.height=`${t}px`}}else{let t=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);e.style.height=`${this.thumbContainerHeight}px`,e.style.width=`${t}px`}this.setThumbContainerPos()};setThumbContainerPos=()=>{let e=this.player.elements.progress.getBoundingClientRect(),t=this.player.elements.container.getBoundingClientRect(),{container:i}=this.elements.thumb,s=t.left-e.left+10,a=t.right-e.left-i.clientWidth-10,n=this.mousePosX-e.left-i.clientWidth/2,r=(0,C.q)(n,s,a);i.style.left=`${r}px`,i.style.setProperty("--preview-arrow-offset",`${n-r}px`)};setScrubbingContainerSize=()=>{let{width:e,height:t}=k(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${e}px`,this.elements.scrubbing.container.style.height=`${t}px`};setImageSizeAndOffset=(e,t)=>{if(!this.usingSprites)return;let i=this.thumbContainerHeight/t.h;e.style.height=`${e.naturalHeight*i}px`,e.style.width=`${e.naturalWidth*i}px`,e.style.left=`-${t.x*i}px`,e.style.top=`-${t.y*i}px`}};var S=i(34151),I=i(36664),E=i(4362);let H={insertElements(e,t){b.A.string(t)?(0,c._s)(e,this.media,{src:t}):b.A.array(t)&&t.forEach(t=>{(0,c._s)(e,this.media,t)})},change(e){(0,E.b$)(e,"sources.length")?(d.A.cancelRequests.call(this),this.destroy(()=>{this.options.quality=[],(0,c.Nz)(this.media),this.media=null,b.A.element(this.elements.container)&&this.elements.container.removeAttribute("class");let{sources:t,type:i}=e,[{provider:s=r.r5.html5,src:a}]=t,n="html5"===s?i:"div",l="html5"===s?{}:{src:a};Object.assign(this,{provider:s,type:i,supported:S.A.check(i,s,this.config.playsinline),media:(0,c.n)(n,l)}),this.elements.container.appendChild(this.media),b.A.boolean(e.autoplay)&&(this.config.autoplay=e.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),b.A.empty(e.poster)||(this.poster=e.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),I.A.addStyleHook.call(this),this.isHTML5&&H.insertElements.call(this,"source",t),this.config.title=e.title,u.A.setup.call(this),this.isHTML5&&Object.keys(e).includes("tracks")&&H.insertElements.call(this,"track",e.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&I.A.build.call(this),this.isHTML5&&this.media.load(),!b.A.empty(e.previewThumbnails)&&(Object.assign(this.config.previewThumbnails,e.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new P(this))),this.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}};var M=i(81529),x=i(42890),N=i(83480),L=i(36795);class O{constructor(e,t){if(this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=S.A.touch,this.media=e,b.A.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||b.A.nodeList(this.media)||b.A.array(this.media))&&(this.media=this.media[0]),this.config=(0,E.X$)({},a.A,O.defaults,t||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch{return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new l.A(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",S.A),b.A.nullOrUndefined(this.media)||!b.A.element(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!S.A.check().api)return void this.debug.error("Setup failed: no support");const i=this.media.cloneNode(!0);i.autoplay=!1,this.elements.original=i;const s=this.media.tagName.toLowerCase();let n=null,o=null;switch(s){case"div":if(n=this.media.querySelector("iframe"),b.A.element(n)){if(o=(0,w.D)(n.getAttribute("src")),this.provider=(0,r.CY)(o.toString()),this.elements.container=this.media,this.media=n,this.elements.container.className="",o.search.length){const e=["1","true"];e.includes(o.searchParams.get("autoplay"))&&(this.config.autoplay=!0),e.includes(o.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=e.includes(o.searchParams.get("playsinline")),this.config.youtube.hl=o.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(b.A.empty(this.provider)||!Object.values(r.r5).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=r.gK.video;break;case"video":case"audio":this.type=s,this.provider=r.r5.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:this.debug.error("Setup failed: unsupported type");return}if(this.supported=S.A.check(this.type,this.provider),!this.supported.api)return void this.debug.error("Setup failed: no support");this.eventListeners=[],this.listeners=new m.A(this),this.storage=new M.A(this),this.media.plyr=this,b.A.element(this.elements.container)||(this.elements.container=(0,c.n)("div"),(0,c.LV)(this.media,this.elements.container)),I.A.migrateStyles.call(this),I.A.addStyleHook.call(this),u.A.setup.call(this),this.config.debug&&g.on.call(this,this.elements.container,this.config.events.join(" "),e=>{this.debug.log(`event: ${e.type}`)}),this.fullscreen=new h.A(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&I.A.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new v(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",()=>(0,f.v)(this.play())),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new P(this))}get isHTML5(){return this.provider===r.r5.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===r.r5.youtube}get isVimeo(){return this.provider===r.r5.vimeo}get isVideo(){return this.type===r.gK.video}get isAudio(){return this.type===r.gK.audio}play=()=>b.A.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(()=>this.ads.play()).catch(()=>(0,f.v)(this.media.play())),this.media.play()):null;pause=()=>this.playing&&b.A.function(this.media.pause)?this.media.pause():null;get playing(){return!!(this.ready&&!this.paused&&!this.ended)}get paused(){return!!this.media.paused}get stopped(){return!!(this.paused&&0===this.currentTime)}get ended(){return!!this.media.ended}togglePlay=e=>(b.A.boolean(e)?e:!this.playing)?this.play():this.pause();stop=()=>{this.isHTML5?(this.pause(),this.restart()):b.A.function(this.media.stop)&&this.media.stop()};restart=()=>{this.currentTime=0};rewind=e=>{this.currentTime-=b.A.number(e)?e:this.config.seekTime};forward=e=>{this.currentTime+=b.A.number(e)?e:this.config.seekTime};set currentTime(e){if(!this.duration)return;let t=b.A.number(e)&&e>0;this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){let{buffered:e}=this.media;return b.A.number(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}get seeking(){return!!this.media.seeking}get duration(){let e=Number.parseFloat(this.config.duration),t=(this.media||{}).duration,i=b.A.number(t)&&t!==1/0?t:0;return e||i}set volume(e){let t=e;b.A.string(t)&&(t=Number(t)),b.A.number(t)||(t=this.storage.get("volume")),b.A.number(t)||({volume:t}=this.config),t>1&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!b.A.empty(e)&&this.muted&&t>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}increaseVolume=e=>{let t=this.media.muted?0:this.volume;this.volume=t+(b.A.number(e)?e:0)};decreaseVolume=e=>{this.increaseVolume(-e)};set muted(e){let t=e;b.A.boolean(t)||(t=this.storage.get("muted")),b.A.boolean(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t}get muted(){return!!this.media.muted}get hasAudio(){return!this.isHTML5||!!this.isAudio||!!this.media.mozHasAudio||!!this.media.webkitAudioDecodedByteCount||!!(this.media.audioTracks&&this.media.audioTracks.length)}set speed(e){let t=null;b.A.number(e)&&(t=e),b.A.number(t)||(t=this.storage.get("speed")),b.A.number(t)||(t=this.config.speed.selected);let{minimumSpeed:i,maximumSpeed:s}=this;t=(0,C.q)(t,i,s),this.config.speed.selected=t,setTimeout(()=>{this.media&&(this.media.playbackRate=t)},0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(e){let t=this.config.quality,i=this.options.quality;if(!i.length)return;let s=[!b.A.empty(e)&&Number(e),this.storage.get("quality"),t.selected,t.default].find(b.A.number),a=!0;if(!i.includes(s)){let e=(0,x.k)(i,s);this.debug.warn(`Unsupported quality option: ${s}, using ${e} instead`),s=e,a=!1}t.selected=s,this.media.quality=s,a&&this.storage.set({quality:s})}get quality(){return this.media.quality}set loop(e){let t=b.A.boolean(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t}get loop(){return!!this.media.loop}set source(e){H.change.call(this,e)}get source(){return this.media.currentSrc}get download(){let{download:e}=this.config.urls;return b.A.url(e)?e:this.source}set download(e){b.A.url(e)&&(this.config.urls.download=e,o.A.setDownloadUrl.call(this))}set poster(e){this.isVideo?I.A.setPoster.call(this,e,!1).catch(()=>{}):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;let e=(0,L.OV)(L.KD.call(this));return b.A.array(e)?e.join(":"):e}set ratio(e){this.isVideo?b.A.string(e)&&(0,L.S$)(e)?(this.config.ratio=(0,L.OV)(e),L.md.call(this)):this.debug.error(`Invalid aspect ratio specified (${e})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(e){this.config.autoplay=b.A.boolean(e)?e:this.config.autoplay}get autoplay(){return!!this.config.autoplay}toggleCaptions(e){s.A.toggle.call(this,e,!1)}set currentTrack(e){s.A.set.call(this,e,!1),s.A.setup.call(this)}get currentTrack(){let{toggled:e,currentTrack:t}=this.captions;return e?t:-1}set language(e){s.A.setLanguage.call(this,e,!1)}get language(){return(s.A.getCurrentTrack.call(this)||{}).language}set pip(e){if(!S.A.pip)return;let t=b.A.boolean(e)?e:!this.pip;b.A.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(t?n.y.active:n.y.inactive),b.A.function(this.media.requestPictureInPicture)&&(!this.pip&&t?this.media.requestPictureInPicture():this.pip&&!t&&document.exitPictureInPicture())}get pip(){return S.A.pip?b.A.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===n.y.active:null}setPreviewThumbnails(e){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,e),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new P(this))}airplay=()=>{S.A.airplay&&this.media.webkitShowPlaybackTargetPicker()};toggleControls=e=>{if(this.supported.ui&&!this.isAudio){let t=(0,c.nB)(this.elements.container,this.config.classNames.hideControls),i=(0,c.p1)(this.elements.container,this.config.classNames.hideControls,void 0===e?void 0:!e);return i&&b.A.array(this.config.controls)&&this.config.controls.includes("settings")&&!b.A.empty(this.config.settings)&&o.A.toggleMenu.call(this,!1),i!==t&&g.Hl.call(this,this.media,i?"controlshidden":"controlsshown"),!i}return!1};on=(e,t)=>{g.on.call(this,this.elements.container,e,t)};once=(e,t)=>{g.Oo.call(this,this.elements.container,e,t)};off=(e,t)=>{(0,g.AU)(this.elements.container,e,t)};destroy=(e,t=!1)=>{if(!this.ready)return;let i=()=>{document.body.style.overflow="",this.embed=null,t?(Object.keys(this.elements).length&&((0,c.Nz)(this.elements.buttons.play),(0,c.Nz)(this.elements.captions),(0,c.Nz)(this.elements.controls),(0,c.Nz)(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),b.A.function(e)&&e()):(g.WT.call(this),d.A.cancelRequests.call(this),(0,c.fx)(this.elements.original,this.elements.container),g.Hl.call(this,this.elements.original,"destroyed",!0),b.A.function(e)&&e.call(this.elements.original),this.ready=!1,setTimeout(()=>{this.elements=null,this.media=null},200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(I.A.toggleNativeControls.call(this,!0),i()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&b.A.function(this.embed.destroy)&&this.embed.destroy(),i()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(i),setTimeout(i,200))};supports=e=>S.A.mime.call(this,e);static supported(e,t){return S.A.check(e,t)}static loadSprite(e,t){return(0,N.A)(e,t)}static setup(e,t={}){let i=null;return(b.A.string(e)?i=Array.from(document.querySelectorAll(e)):b.A.nodeList(e)?i=Array.from(e):b.A.array(e)&&(i=e.filter(b.A.element)),b.A.empty(i))?null:i.map(e=>new O(e,t))}}O.defaults=(0,E.mg)(a.A);let V=O},81529:function(e,t,i){i.d(t,{A:()=>r});var s=i(85828),a=i(4362);class n{constructor(e){this.enabled=e.config.storage.enabled,this.key=e.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;let e="___test";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}get=e=>{if(!n.supported||!this.enabled)return null;let t=window.localStorage.getItem(this.key);if(s.A.empty(t))return null;let i=JSON.parse(t);return s.A.string(e)&&e.length?i[e]:i};set=e=>{if(!n.supported||!this.enabled||!s.A.object(e))return;let t=this.get();s.A.empty(t)&&(t={}),(0,a.X$)(t,e);try{window.localStorage.setItem(this.key,JSON.stringify(t))}catch{}}}let r=n},34151:function(e,t,i){let s;i.d(t,{A:()=>h});var a=i(85632),n=i(41805),r=i(85828);let l={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},o={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(e,t){let i=o[e]||"html5"!==t,s=i&&o.rangeInput;return{api:i,ui:s}},pip:document.pictureInPictureEnabled&&!(0,n.n)("video").disablePictureInPicture,airplay:r.A.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(e){if(r.A.empty(e))return!1;let[t]=e.split("/"),i=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(l).includes(i)&&(i+=`; codecs="${l[e]}"`);try{return!!(i&&this.media.canPlayType(i).replace(/no/,""))}catch{return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:((s=document.createElement("input")).type="range","range"===s.type),touch:"ontouchstart"in document.documentElement,transitions:!1!==a.p,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},h=o}}]);